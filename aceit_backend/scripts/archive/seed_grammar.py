from sqlalchemy.orm import sessionmaker
import sys
import os
import uuid

# Add the parent directory to sys.path to import models
sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))

from database_postgres import engine
from models.aptitude_sql import AptitudeQuestion

Session = sessionmaker(bind=engine)
session = Session()

questions = [
    # EASY (20)
    {"question": "Choose the correct sentence:", "options": ["She don't like apples.", "She doesn't like apples.", "She doesn't likes apples.", "She not like apples."], "correct_answer": 1, "explanation": "Third person singular requires \"does\" + base verb. \"She doesn't like\" is correct.", "difficulty": "easy", "concepts": ["subject_verb_agreement"], "traps": ["double_verb_error", "missing_auxiliary"]},
    {"question": "Choose the correct sentence:", "options": ["I have two brother-in-laws.", "I have two brothers-in-law.", "I have two brother-in-law.", "I have two brother-in-law's."], "correct_answer": 1, "explanation": "Compound nouns like \"brother-in-law\" pluralize the main noun: brothers-in-law.", "difficulty": "easy", "concepts": ["plural_formation"], "traps": ["incorrect_apostrophe_use", "wrong_pluralization"]},
    {"question": "Choose the correct sentence:", "options": ["This book is more better than that one.", "This book is better than that one.", "This book is more good than that one.", "This book is best than that one."], "correct_answer": 1, "explanation": "\"Better\" is the comparative form of \"good.\" \"More better\" is redundant.", "difficulty": "easy", "concepts": ["comparative_adjectives"], "traps": ["double_comparative", "incorrect_irregular_form"]},
    {"question": "Choose the correct sentence:", "options": ["He laid on the bed all day.", "He lay on the bed all day.", "He lied on the bed all day.", "He lain on the bed all day."], "correct_answer": 1, "explanation": "\"Lay\" (past of lie) means to recline. \"Laid\" requires an object.", "difficulty": "easy", "concepts": ["lie_lay_confusion"], "traps": ["transitive_intransitive_confusion", "past_participle_error"]},
    {"question": "Choose the correct sentence:", "options": ["Between you and I, this is confidential.", "Between you and me, this is confidential.", "Between you and myself, this is confidential.", "Between you and mine, this is confidential."], "correct_answer": 1, "explanation": "Prepositions require object pronouns. \"Between you and me\" is correct.", "difficulty": "easy", "concepts": ["pronoun_case"], "traps": ["hypercorrection", "reflexive_misuse"]},
    {"question": "Choose the correct sentence:", "options": ["She is taller than him.", "She is taller than he.", "She is taller than he is.", "Both B and C are correct"], "correct_answer": 3, "explanation": "Both \"than he\" and \"than he is\" are grammatically correct in formal English.", "difficulty": "easy", "concepts": ["than_pronouns"], "traps": ["informal_vs_formal_usage"]},
    {"question": "Choose the correct sentence:", "options": ["The team are playing well.", "The team is playing well.", "The team were playing well.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Both are acceptable: \"team\" can be singular (US) or plural (UK) depending on emphasis.", "difficulty": "easy", "concepts": ["collective_nouns"], "traps": ["american_british_differences"]},
    {"question": "Choose the correct sentence:", "options": ["Each of the students have a book.", "Each of the students has a book.", "Each of the students having a book.", "Each of the students had a book."], "correct_answer": 1, "explanation": "\"Each\" is singular, so it takes \"has\" not \"have.\"", "difficulty": "easy", "concepts": ["indefinite_pronouns"], "traps": ["prepositional_phrase_interference"]},
    {"question": "Choose the correct sentence:", "options": ["Neither John nor Mary are coming.", "Neither John nor Mary is coming.", "Neither John or Mary is coming.", "Neither John nor Mary am coming."], "correct_answer": 1, "explanation": "With \"neither/nor,\" the verb agrees with the closer subject (Mary = singular).", "difficulty": "easy", "concepts": ["correlative_conjunctions"], "traps": ["proximity_rule_ignorance"]},
    {"question": "Choose the correct sentence:", "options": ["If I was you, I would study more.", "If I were you, I would study more.", "If I am you, I would study more.", "If I be you, I would study more."], "correct_answer": 1, "explanation": "\"If I were\" is correct for hypothetical situations (subjunctive mood).", "difficulty": "easy", "concepts": ["subjunctive_mood"], "traps": ["informal_colloquial_usage"]},
    {"question": "Choose the correct sentence:", "options": ["The data is inconclusive.", "The data are inconclusive.", "The datas are inconclusive.", "Both A and B are correct"], "correct_answer": 3, "explanation": "\"Data\" can be singular or plural. Both are acceptable in modern usage.", "difficulty": "easy", "concepts": ["latin_plurals"], "traps": ["technical_vs_general_usage"]},
    {"question": "Choose the correct sentence:", "options": ["He is one of those people who is always late.", "He is one of those people who are always late.", "He is one of those person who is always late.", "He is one of those person who are always late."], "correct_answer": 1, "explanation": "\"Who\" refers to \"people\" (plural), so it takes \"are.\"", "difficulty": "easy", "concepts": ["relative_pronoun_agreement"], "traps": ["antecedent_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["Its raining outside.", "It's raining outside.", "Its' raining outside.", "Its's raining outside."], "correct_answer": 1, "explanation": "\"It's\" = contraction of \"it is.\" \"Its\" is possessive.", "difficulty": "easy", "concepts": ["apostrophe_use"], "traps": ["possessive_pronoun_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["I could of gone to the party.", "I could have gone to the party.", "I could've gone to the party.", "Both B and C are correct"], "correct_answer": 3, "explanation": "\"Could have\" or contraction \"could've\" are correct. \"Could of\" is always wrong.", "difficulty": "easy", "concepts": ["modal_verbs"], "traps": ["phonetic_spelling_error"]},
    {"question": "Choose the correct sentence:", "options": ["She done her homework yesterday.", "She did her homework yesterday.", "She has done her homework yesterday.", "She had did her homework yesterday."], "correct_answer": 1, "explanation": "Simple past requires \"did.\" \"Done\" needs an auxiliary verb.", "difficulty": "easy", "concepts": ["irregular_verbs"], "traps": ["past_participle_as_past_tense"]},
    {"question": "Choose the correct sentence:", "options": ["The committee have made their decision.", "The committee has made its decision.", "The committee has made their decision.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Both are acceptable depending on whether committee is viewed as unit (singular) or individuals (plural).", "difficulty": "easy", "concepts": ["collective_noun_pronouns"], "traps": ["pronoun_antecedent_consistency"]},
    {"question": "Choose the correct sentence:", "options": ["He is smarter than any student in his class.", "He is smarter than any other student in his class.", "He is smarter than any students in his class.", "He is smarter than any others student in his class."], "correct_answer": 1, "explanation": "\"Any other\" is needed to exclude himself from the comparison.", "difficulty": "easy", "concepts": ["comparative_logic"], "traps": ["logical_comparison_error"]},
    {"question": "Choose the correct sentence:", "options": ["She divided the money between the three children.", "She divided the money among the three children.", "She divided the money amidst the three children.", "She divided the money within the three children."], "correct_answer": 1, "explanation": "\"Between\" for two, \"among\" for three or more.", "difficulty": "easy", "concepts": ["preposition_usage"], "traps": ["archaic_usage_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["He graduated college last year.", "He graduated from college last year.", "He was graduated from college last year.", "He graduated out of college last year."], "correct_answer": 1, "explanation": "\"Graduated from\" is standard. \"Graduated college\" is informal.", "difficulty": "easy", "concepts": ["verb_preposition_collocation"], "traps": ["american_english_informal_usage"]},
    {"question": "Choose the correct sentence:", "options": ["I look forward to meet you.", "I look forward to meeting you.", "I look forward to met you.", "I look forward to have met you."], "correct_answer": 1, "explanation": "\"Look forward to\" requires gerund (-ing form).", "difficulty": "easy", "concepts": ["gerund_infinitives"], "traps": ["infinitive_after_to_error"]},
    
    # MEDIUM (20)
    {"question": "Choose the correct sentence:", "options": ["The reason is because I was tired.", "The reason is that I was tired.", "The reason is due to I was tired.", "The reason is on account of I was tired."], "correct_answer": 1, "explanation": "\"The reason is because\" is redundant. Use \"the reason is that\" or \"because.\"", "difficulty": "medium", "concepts": ["redundancy_errors"], "traps": ["colloquial_acceptance_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["Not only he sings but also dances.", "Not only does he sing but also dances.", "Not only does he sing but he also dances.", "Not only he sings but he also dances."], "correct_answer": 2, "explanation": "\"Not only\" requires inversion: \"does he sing\" (auxiliary before subject).", "difficulty": "medium", "concepts": ["inversion_structure"], "traps": ["parallel_structure_requirements"]},
    {"question": "Choose the correct sentence:", "options": ["Had I known, I would have helped.", "If I would have known, I would have helped.", "If I had have known, I would have helped.", "Had I have known, I would have helped."], "correct_answer": 0, "explanation": "\"Had I known\" is correct for past unreal conditionals. No \"would\" in \"if\" clause.", "difficulty": "medium", "concepts": ["conditional_sentences"], "traps": ["mixed_conditionals", "double_past_perfect"]},
    {"question": "Choose the correct sentence:", "options": ["I insist that he be here on time.", "I insist that he is here on time.", "I insist that he will be here on time.", "All are correct"], "correct_answer": 3, "explanation": "All are acceptable: subjunctive (A) is formal, indicative (B) is common, future (C) is also used.", "difficulty": "medium", "concepts": ["mandative_subjunctive"], "traps": ["formal_vs_informal_variations"]},
    {"question": "Choose the correct sentence:", "options": ["She is taller than I.", "She is taller than me.", "She is more taller than I.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Both are used: \"than I\" (formal) and \"than me\" (informal).", "difficulty": "medium", "concepts": ["comparative_pronouns"], "traps": ["prescriptive_vs_descriptive_grammar"]},
    {"question": "Choose the correct sentence:", "options": ["It is I who am responsible.", "It is I who is responsible.", "It is me who is responsible.", "It is me who am responsible."], "correct_answer": 0, "explanation": "Formal: \"It is I who am\" (who agrees with I). Informal: \"It's me who is\" also used.", "difficulty": "medium", "concepts": ["cleft_sentences"], "traps": ["formal_informal_dilemma"]},
    {"question": "Choose the correct sentence:", "options": ["She is one of the few women who has achieved this.", "She is one of the few women who have achieved this.", "She is one of the few woman who has achieved this.", "She is one of the few woman who have achieved this."], "correct_answer": 1, "explanation": "\"Who\" refers to \"women\" (plural), so \"have achieved\" is correct.", "difficulty": "medium", "concepts": ["relative_clause_agreement"], "traps": ["subject_of_relative_clause_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["I wish I was there with you.", "I wish I were there with you.", "I wish I would be there with you.", "I wish I could be there with you."], "correct_answer": 1, "explanation": "\"I wish I were\" is subjunctive for unreal present. \"Could be\" is also correct.", "difficulty": "medium", "concepts": ["wish_clauses"], "traps": ["multiple_correct_options"]},
    {"question": "Choose the correct sentence:", "options": ["The number of students have increased.", "The number of students has increased.", "A number of students has increased.", "A number of students is increased."], "correct_answer": 1, "explanation": "\"The number\" is singular; \"a number\" is plural.", "difficulty": "medium", "concepts": ["quantifier_agreement"], "traps": ["the_vs_a_difference"]},
    {"question": "Choose the correct sentence:", "options": ["He suggested that she apply for the job.", "He suggested that she applies for the job.", "He suggested that she should apply for the job.", "Both A and C are correct"], "correct_answer": 3, "explanation": "Both subjunctive (apply) and \"should apply\" are correct after \"suggested.\"", "difficulty": "medium", "concepts": ["verbs_taking_subjunctive"], "traps": ["british_american_differences"]},
    {"question": "Choose the correct sentence:", "options": ["It's time we go home.", "It's time we went home.", "It's time we should go home.", "It's time for us to go home."], "correct_answer": 3, "explanation": "\"It's time we went\" (past subjunctive) or \"It's time for us to go\" are correct.", "difficulty": "medium", "concepts": ["it_is_time_structure"], "traps": ["past_tense_for_present_meaning"]},
    {"question": "Choose the correct sentence:", "options": ["She would rather he stay here.", "She would rather he stays here.", "She would rather he stayed here.", "Both A and C are correct"], "correct_answer": 3, "explanation": "Both present subjunctive (stay) and past (stayed) are used after \"would rather.\"", "difficulty": "medium", "concepts": ["would_rather_structure"], "traps": ["tense_agreement_complexity"]},
    {"question": "Choose the correct sentence:", "options": ["I object to him smoking here.", "I object to his smoking here.", "I object to he smoking here.", "I object to he's smoking here."], "correct_answer": 1, "explanation": "Both \"him smoking\" (informal) and \"his smoking\" (formal) are used.", "difficulty": "medium", "concepts": ["possessive_with_gerund"], "traps": ["formal_informal_distinction"]},
    {"question": "Choose the correct sentence:", "options": ["This is she speaking.", "This is her speaking.", "This is herself speaking.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Both are used: \"This is she\" (formal/telephone) and \"This is her\" (informal).", "difficulty": "medium", "concepts": ["predicate_nominative"], "traps": ["telephone_etiquette_vs_colloquial"]},
    {"question": "Choose the correct sentence:", "options": ["She is older than I am.", "She is older than me.", "She is older than I.", "All are correct"], "correct_answer": 3, "explanation": "All are grammatically acceptable in different contexts/formality levels.", "difficulty": "medium", "concepts": ["comparative_completeness"], "traps": ["multiple_correct_answers"]},
    {"question": "Choose the correct sentence:", "options": ["If he was here, he would help.", "If he were here, he would help.", "If he would be here, he would help.", "If he had been here, he would help."], "correct_answer": 1, "explanation": "\"If he were\" is subjunctive for unreal present. \"If he was\" is also used informally.", "difficulty": "medium", "concepts": ["real_vs_unreal_conditionals"], "traps": ["informal_acceptance_ambiguity"]},
    {"question": "Choose the correct sentence:", "options": ["The committee has adjourned for the day.", "The committee have adjourned for the day.", "The committee has adjourned themselves for the day.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Both singular (US) and plural (UK) are correct for collective nouns.", "difficulty": "medium", "concepts": ["collective_noun_regional_differences"], "traps": ["pronoun_reflexive_consistency"]},
    {"question": "Choose the correct sentence:", "options": ["I demand that he leave immediately.", "I demand that he leaves immediately.", "I demand that he should leave immediately.", "Both A and C are correct"], "correct_answer": 3, "explanation": "Subjunctive (leave) is US English; \"should leave\" is British English.", "difficulty": "medium", "concepts": ["regional_subjunctive_usage"], "traps": ["dialectal_variations"]},
    {"question": "Choose the correct sentence:", "options": ["Neither of them is correct.", "Neither of them are correct.", "Neither of them were correct.", "All are correct"], "correct_answer": 3, "explanation": "Traditionally singular (\"is\"), but plural (\"are\") is common in informal usage.", "difficulty": "medium", "concepts": ["neither_singular_plural"], "traps": ["prescriptive_vs_actual_usage"]},
    {"question": "Choose the correct sentence:", "options": ["It is important that he be on time.", "It is important that he is on time.", "It is important for him to be on time.", "All are correct"], "correct_answer": 3, "explanation": "All express the idea correctly with different grammatical structures.", "difficulty": "medium", "concepts": ["adjective_clause_variations"], "traps": ["multiple_grammatical_pathways"]},
    
    # HARD (20)
    {"question": "Choose the correct sentence:", "options": ["I would have liked to have gone.", "I would have liked to go.", "I would like to have gone.", "All are correct with different meanings"], "correct_answer": 3, "explanation": "All are grammatically correct with subtle meaning differences about time reference.", "difficulty": "hard", "concepts": ["perfect_infinitives"], "traps": ["sequence_of_tenses_complexity"]},
    {"question": "Choose the correct sentence:", "options": ["Had it not been for the rain, we would have gone.", "Were it not for the rain, we would have gone.", "If it were not for the rain, we would have gone.", "All are correct"], "correct_answer": 3, "explanation": "All are correct conditional forms with slightly different emphasis.", "difficulty": "hard", "concepts": ["conditional_variations"], "traps": ["literary_vs_common_forms"]},
    {"question": "Choose the correct sentence:", "options": ["The horse and carriage is at the door.", "The horse and carriage are at the door.", "The horse and the carriage are at the door.", "Both A and C are correct"], "correct_answer": 3, "explanation": "As a unit (horse and carriage) = singular; as separate items = plural.", "difficulty": "hard", "concepts": ["compound_subject_unit"], "traps": ["definite_article_effect"]},
    {"question": "Choose the correct sentence:", "options": ["One should always do one's best.", "One should always do his best.", "One should always do their best.", "All are correct"], "correct_answer": 3, "explanation": "Traditionally \"one's,\" but \"their\" is common for gender neutrality. \"His\" is dated.", "difficulty": "hard", "concepts": ["one_pronoun_agreement"], "traps": ["gender_neutrality_evolution"]},
    {"question": "Choose the correct sentence:", "options": ["It is I who is to blame.", "It is I who am to blame.", "It is me who is to blame.", "All are correct in different contexts"], "correct_answer": 3, "explanation": "Formal: \"I who am\"; informal: \"me who is\" or \"I who is\" (attraction to complement).", "difficulty": "hard", "concepts": ["attraction_agreement"], "traps": ["proximity_attraction_phenomenon"]},
    {"question": "Choose the correct sentence:", "options": ["The majority of the students is present.", "The majority of the students are present.", "The majority is present.", "Both B and C are correct"], "correct_answer": 3, "explanation": "\"Majority\" + plural noun = plural verb; \"majority\" alone can be singular or plural.", "difficulty": "hard", "concepts": ["majority_minority_agreement"], "traps": ["collective_quantifier_complexity"]},
    {"question": "Choose the correct sentence:", "options": ["I insist on him being there.", "I insist on his being there.", "I insist that he be there.", "All are correct with different structures"], "correct_answer": 3, "explanation": "All are grammatically correct: gerund with possessive/object, or subjunctive clause.", "difficulty": "hard", "concepts": ["syntactic_variation"], "traps": ["multiple_correct_constructions"]},
    {"question": "Choose the correct sentence:", "options": ["She is the only one of the employees who works overtime.", "She is the only one of the employees who work overtime.", "She is only one of the employees who works overtime.", "She is only one of the employees who work overtime."], "correct_answer": 0, "explanation": "\"The only one\" makes \"who\" singular; without \"the,\" \"who\" refers to plural \"employees.\"", "difficulty": "hard", "concepts": ["only_one_structure"], "traps": ["definite_article_significance"]},
    {"question": "Choose the correct sentence:", "options": ["What I need is more time.", "What I need are more hours.", "What I need are more time.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Verb agrees with complement: \"time\" (singular) vs. \"hours\" (plural).", "difficulty": "hard", "concepts": ["what_clause_agreement"], "traps": ["notional_agreement_complexity"]},
    {"question": "Choose the correct sentence:", "options": ["Ten dollars is too much to pay.", "Ten dollars are too much to pay.", "Ten dollars were too much to pay.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Amounts as units = singular; as individual dollars = plural (less common).", "difficulty": "hard", "concepts": ["measurements_agreement"], "traps": ["unit_vs_individuals_interpretation"]},
    {"question": "Choose the correct sentence:", "options": ["Neither he nor I am going.", "Neither he nor I is going.", "Neither he nor I are going.", "Neither he nor I be going."], "correct_answer": 0, "explanation": "With \"neither/nor,\" verb agrees with closest subject: \"I\" takes \"am.\"", "difficulty": "hard", "concepts": ["proximity_rule_application"], "traps": ["first_person_proximity"]},
    {"question": "Choose the correct sentence:", "options": ["More than one student has failed.", "More than one student have failed.", "More than one students have failed.", "More than one students has failed."], "correct_answer": 0, "explanation": "\"More than one\" is idiomatically singular despite plural meaning.", "difficulty": "hard", "concepts": ["idiomatic_agreement"], "traps": ["logical_vs_grammatical_number"]},
    {"question": "Choose the correct sentence:", "options": ["It's you who are mistaken.", "It's you who is mistaken.", "It's you who's mistaken.", "All are correct"], "correct_answer": 3, "explanation": "Formal: \"you who are\"; informal: \"you who is\" (attraction to \"it's\"); contraction also used.", "difficulty": "hard", "concepts": ["cleft_sentence_attraction"], "traps": ["contraction_complication"]},
    {"question": "Choose the correct sentence:", "options": ["All I want is peace and quiet.", "All I want are peace and quiet.", "All I want is peace and quietness.", "Both A and B are correct"], "correct_answer": 3, "explanation": "\"Peace and quiet\" can be seen as single concept (singular) or two things (plural).", "difficulty": "hard", "concepts": ["compound_complement_agreement"], "traps": ["notional_vs_grammatical_agreement"]},
    {"question": "Choose the correct sentence:", "options": ["The committee is divided in its opinion.", "The committee are divided in their opinions.", "The committee is divided in their opinion.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Singular (US) with singular pronoun, or plural (UK) with plural pronoun. Mixed is inconsistent.", "difficulty": "hard", "concepts": ["collective_pronoun_consistency"], "traps": ["mixed_agreement_error"]},
    {"question": "Choose the correct sentence:", "options": ["I would sooner die than betray my country.", "I would sooner die than to betray my country.", "I would sooner die than betraying my country.", "I would sooner die than I betray my country."], "correct_answer": 0, "explanation": "\"Would sooner\" requires parallel bare infinitives: die...betray.", "difficulty": "hard", "concepts": ["parallel_infinitives"], "traps": ["infinitive_marker_omission"]},
    {"question": "Choose the correct sentence:", "options": ["What bothers me are the lies.", "What bothers me is the lies.", "What bother me are the lies.", "Both A and B are correct"], "correct_answer": 3, "explanation": "Verb can agree with subject \"what\" (singular) or complement \"lies\" (plural - notional).", "difficulty": "hard", "concepts": ["what_clause_notional_agreement"], "traps": ["subject_of_relative_clause_confusion"]},
    {"question": "Choose the correct sentence:", "options": ["Two-thirds of the city was destroyed.", "Two-thirds of the city were destroyed.", "Two-thirds of the city has been destroyed.", "All are correct"], "correct_answer": 3, "explanation": "Fractions can take singular or plural depending on the noun they modify.", "difficulty": "hard", "concepts": ["fraction_agreement"], "traps": ["mass_vs_count_noun_modification"]},
    {"question": "Choose the correct sentence:", "options": ["The police is investigating.", "The police are investigating.", "The police was investigating.", "The police were investigating."], "correct_answer": 3, "explanation": "\"Police\" is always plural. \"A police officer\" would be singular.", "difficulty": "hard", "concepts": ["pluralia_tantum"], "traps": ["always_plural_nouns"]},
    {"question": "Choose the correct sentence:", "options": ["A series of accidents has occurred.", "A series of accidents have occurred.", "Series of accidents has occurred.", "Both A and B are correct"], "correct_answer": 3, "explanation": "\"Series\" can be singular or plural. Both are acceptable in different contexts.", "difficulty": "hard", "concepts": ["plural_singular_nouns"], "traps": ["words_with_identical_singular_plural"]}
]

for q_data in questions:
    q = AptitudeQuestion(
        id=str(uuid.uuid4()),
        question=q_data["question"],
        options=q_data["options"],
        correct_answer=q_data["correct_answer"],
        answer_explanation=q_data["explanation"],
        topic="Grammar",
        category="Verbal Ability",
        difficulty=q_data["difficulty"],
        source="hardcoded",
        primary_concepts=q_data["concepts"],
        trap_explanation=f"Common traps: {', '.join(q_data['traps'])}" if q_data["traps"] else None
    )
    session.add(q)

session.commit()
print(f"Successfully seeded {len(questions)} Grammar questions.")
session.close()
